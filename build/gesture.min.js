!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).GestureJs=e()}(this,function(){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var t=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var o=(t(e,[{key:"isTarget",value:function(t,e){for(;null!=t&&null!=t&&"BODY"!=t.tagName.toUpperCase();){if(t.matches(e))return t;t=t.parentNode}return null}}]),e);function e(t){i(this,e)}var n=Math.abs,h=(t(a,[{key:"_touch",value:function(t){var e=this;this.e=t.target;var i=t.touches?t.touches[0]:t,s=Date.now();this.touch.startX=i.pageX,this.touch.startY=i.pageY,this.touch.starTime=s,this.longTapTimeout&&clearTimeout(this.longTapTimeout),this.tapTimeout&&clearTimeout(this.tapTimeout),this.doubleTap=!1,this._emit("touch",t),1<t.touches.length||(this.longTapTimeout=setTimeout(function(){e._emit("longtap"),e.doubleTap=!1,t.preventDefault()},800),this.doubleTap=this.pretouch.time&&s-this.pretouch.time<300&&n(this.touch.startX-this.pretouch.startX)<30&&n(this.touch.startY-this.pretouch.startY)<30&&n(this.touch.startTime-this.pretouch.time)<300,this.pretouch={startX:this.touch.startX,startY:this.touch.startY,time:this.touch.startTime})}},{key:"_move",value:function(){}},{key:"_end",value:function(){this.longTapTimeout&&clearTimeout(this.longTapTimeout)}},{key:"_cancel",value:function(){console.log("cancle")}},{key:"_emit",value:function(t,e){this.handles[t]||(this.handles[t]=[]);var i,s=new o(i).isTarget(this.e,this.selector);if(s||!this.selector){this.selector&&(this.params.selector=s);for(var n=0,h=this.handles[t].length;n<h;n++)"function"==typeof this.handles[t][n]&&this.handles[t][n](e,this.params)}return!0}},{key:"on",value:function(t,e){return this.handles[t]||(this.handles[t]=[]),this.handles[t].push(e),this}},{key:"_init",value:function(){this.touch={},this.movetouch={},this.params={zoom:1,deltaX:0,deltaY:0,diffX:0,diffY:0,angle:0,direction:""}}}]),a);function a(t,e){if(i(this,a),this.target=t instanceof HTMLElement?t:"string"==typeof t?document.querySelector(t):null,!this.target)throw new Error("请绑定元素!");this._init(),this.selector=e,this.target.addEventListener("touchstart",this._touch.bind(this),!1),this.target.addEventListener("touchmove",this._move.bind(this),!1),this.target.addEventListener("touchend",this._end.bind(this),!1),this.target.addEventListener("touchcancel",this._cancel.bind(this),!1),this.params={},this.touch={},this.movetouch={},this.pretouch={},this.longTapTimeout=null,this.tapTimeout=null,this.doubleTap=!1,this.handles={}}try{document}catch(t){throw new Error("请在浏览器环境下运行")}var r=document.createElement("style");return r.type="text/css",r.innerHTML="body{    width: 100%;    height: 100vh;    background: #f7c695;}div{    width: 100px;    height: 100px;    border-radius: 100%;    background: #fff;}",document.getElementsByTagName("HEAD").item(0).appendChild(r),window.Gesture||h});
//# sourceMappingURL=gesture.min.js.map
